import{s as E,l as M,A as B,p as o,T as C,h as N,c as d,b as t,a as n,t as a,u as s,F as h,r as v,i as F,w as D,d as m,f as w,v as x,g as L,o as i,n as q}from"./app-13978987.js";import{_ as z}from"./AdminLayout-bd13ff9d.js";import{_ as j}from"./PageHeader-8c638686.js";import{_ as O}from"./Paginate-f61b79b2.js";import{h as R}from"./moment-a9aaa855.js";import Y from"./OverviewGrid-21ea6fc2.js";import{_ as $}from"./SpinnerBtn-cb152833.js";import{d as y}from"./drawer-fe4c5e1a.js";import{_ as G}from"./NoDataFound-bc81d7fa.js";import{_ as g}from"./InputFieldError-52549d23.js";import"./dropdown-45d66330.js";const H={class:"container p-4 sm:p-6"},J={class:"space-y-6"},K={class:"table-responsive whitespace-nowrap rounded-primary"},P={class:"table"},Q={class:"text-right"},W={key:0},X={class:"text-left"},Z={class:""},tt={class:"dropdown","data-placement":"bottom-start"},st={class:"dropdown-toggle"},et={class:"dropdown-content w-40"},ot={class:"dropdown-list"},at={class:"dropdown-list-item"},lt=["onClick"],nt={class:"dropdown-list-item"},it=["onClick"],dt={id:"addNewItemDrawer",class:"drawer drawer-right w-[600px]"},rt={class:"drawer-header"},ct={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ut={class:"drawer-body"},_t={class:"mb-2"},mt={class:"label mb-2"},pt={value:""},bt=["value"],ht={class:"mb-2"},vt={class:"label mb-1"},gt={class:"label mb-1"},ft=["onUpdate:modelValue"],wt={class:"mb-2"},xt={class:"label mb-1"},yt={value:"active"},kt={value:"inactive"},Ct={class:"drawer-footer"},Dt={class:"flex gap-2"},$t={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},It={id:"editItemDrawer",class:"drawer drawer-right"},St={class:"drawer-header"},Ut={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Vt={class:"drawer-body"},At={class:"mb-2"},Tt={class:"label mb-2"},Et={value:""},Mt=["value"],Bt={class:"mb-2"},Nt={class:"label mb-1"},Ft={class:"label mb-1"},Lt=["onUpdate:modelValue"],qt={class:"mb-2"},zt={class:"label mb-1"},jt={value:"active"},Ot={value:"inactive"},Rt={class:"drawer-footer"},Yt={class:"flex gap-2"},Gt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},Ht=L({layout:z}),as=Object.assign(Ht,{__name:"Index",props:["brandVoices","categories","total","active","inActive","buttons"],setup(p){const{deleteRow:I,textExcerpt:S}=E();M(()=>{y.init()});const k=p,U=B(()=>[{value:k.total,title:o("Total"),iconClass:"bx:badge"},{value:k.active,title:o("Active"),iconClass:"bx:badge-check"},{value:k.inActive,title:o("Inactive"),iconClass:"bx:x-circle"}]),r=C({category_id:"",message:"",tones:[{id:1,text:""},{id:2,text:""},{id:3,text:""}],status:"active"}),V=()=>{r.post(route("admin.brand-voices.store"),{onSuccess:()=>{r.reset(),y.of("#addNewItemDrawer").hide()}})},l=C({category_id:"",message:"",tones:[{id:1,text:""},{id:2,text:""},{id:3,text:""}],status:"active"}),A=b=>{l.id=b.id,l.message=b.message,l.category_id=b.category_id,l.tones=b.tones,l.status=b.status,y.of("#editItemDrawer").show()},T=()=>{l.put(route("admin.brand-voices.update",l.id),{onSuccess:()=>{l.value={},y.of("#editItemDrawer").hide()}})};return(b,c)=>{const f=N("Icon");return i(),d(h,null,[t("main",H,[n(j,{title:"Brand Identities",buttons:p.buttons},null,8,["buttons"]),t("div",J,[n(Y,{items:U.value,grid:"3"},null,8,["items"]),t("div",K,[t("table",P,[t("thead",null,[t("tr",null,[t("th",null,a(s(o)("Category")),1),t("th",null,a(s(o)("Tone 1")),1),t("th",null,a(s(o)("Tone 2")),1),t("th",null,a(s(o)("Tone 3")),1),t("th",null,a(s(o)("Status")),1),t("th",null,a(s(o)("Created At")),1),t("th",null,[t("p",Q,a(s(o)("Action")),1)])])]),p.brandVoices.total?(i(),d("tbody",W,[(i(!0),d(h,null,v(p.brandVoices.data,e=>{var u;return i(),d("tr",{key:e.id},[t("td",null,a((u=e.category)==null?void 0:u.title),1),(i(!0),d(h,null,v(e.tones,_=>(i(),d("td",{class:"text-left",key:_},a(s(S)((_==null?void 0:_.text)??"",30)),1))),128)),t("td",X,[t("span",{class:q(["badge",e.status=="active"?"badge-success":"badge-danger"])},a(e.status=="active"?s(o)("Active"):s(o)("Draft")),3)]),t("td",null,a(s(R)(e.created_at).format("D-MMM-Y")),1),t("td",Z,[t("div",tt,[t("div",st,[n(f,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",et,[t("ul",ot,[t("li",at,[t("button",{onClick:_=>A(e),class:"dropdown-link"},[n(f,{icon:"fe:edit"}),t("span",null,a(s(o)("Edit")),1)],8,lt)]),t("li",nt,[t("button",{as:"button",class:"dropdown-link",onClick:_=>s(I)(b.route("admin.brand-voices.destroy",e.id))},[n(f,{icon:"fe:trash"}),t("span",null,a(s(o)("Delete")),1)],8,it)])])])])])])}),128))])):(i(),F(G,{key:1,"for-table":"true"}))]),n(O,{links:p.brandVoices.links},null,8,["links"])])])]),t("div",dt,[t("form",{onSubmit:D(V,["prevent"])},[t("div",rt,[t("h5",null,a(s(o)("Add New Brand Voice")),1),t("button",ct,[n(f,{class:"text-xl",icon:"mdi:close"})])]),t("div",ut,[t("div",_t,[t("label",mt,a(s(o)("Category")),1),m(t("select",{"onUpdate:modelValue":c[0]||(c[0]=e=>s(r).category_id=e),class:"select"},[t("option",pt,a(s(o)("SELECT")),1),(i(!0),d(h,null,v(p.categories,e=>(i(),d("option",{value:e.id,key:e.id},a(e.title),9,bt))),128))],512),[[w,s(r).category_id]]),n(g,{message:s(r).errors.category_id},null,8,["message"])]),t("div",ht,[t("label",vt,a(s(o)("Message")),1),m(t("input",{"onUpdate:modelValue":c[1]||(c[1]=e=>s(r).message=e),type:"text",class:"input"},null,512),[[x,s(r).message]]),n(g,{message:s(l).errors.message},null,8,["message"])]),(i(!0),d(h,null,v(s(r).tones,(e,u)=>(i(),d("div",{class:"mb-2",key:u},[t("label",gt,a(s(o)(`Tone ${u+1}`)),1),m(t("input",{"onUpdate:modelValue":_=>e.text=_,type:"text",class:"input"},null,8,ft),[[x,e.text]]),n(g,{message:s(r).errors[`tones.${u}.text`]},null,8,["message"])]))),128)),t("div",wt,[t("label",xt,a(s(o)("Status")),1),m(t("select",{required:"","onUpdate:modelValue":c[2]||(c[2]=e=>s(r).status=e),class:"select",name:"status"},[t("option",yt,a(s(o)("Active")),1),t("option",kt,a(s(o)("Draft")),1)],512),[[w,s(r).status]])])]),t("div",Ct,[t("div",Dt,[t("button",$t,[t("span",null,a(s(o)("Close")),1)]),n($,{classes:"btn btn-primary w-full",processing:s(r).processing,"btn-text":s(o)("Create")},null,8,["processing","btn-text"])])])],32)]),t("div",It,[t("form",{onSubmit:D(T,["prevent"])},[t("div",St,[t("h5",null,a(s(o)("Edit Brand Voice")),1),t("button",Ut,[n(f,{class:"text-xl",icon:"mdi:close"})])]),t("div",Vt,[t("div",At,[t("label",Tt,a(s(o)("Category")),1),m(t("select",{"onUpdate:modelValue":c[3]||(c[3]=e=>s(l).category_id=e),class:"select"},[t("option",Et,a(s(o)("SELECT")),1),(i(!0),d(h,null,v(p.categories,e=>(i(),d("option",{value:e.id,key:e.id},a(e.title),9,Mt))),128))],512),[[w,s(l).category_id]]),n(g,{message:s(l).errors.category_id},null,8,["message"])]),t("div",Bt,[t("label",Nt,a(s(o)("Message")),1),m(t("input",{"onUpdate:modelValue":c[4]||(c[4]=e=>s(l).message=e),type:"text",class:"input"},null,512),[[x,s(l).message]]),n(g,{message:s(l).errors.message},null,8,["message"])]),(i(!0),d(h,null,v(s(l).tones,(e,u)=>(i(),d("div",{class:"mb-2",key:u},[t("label",Ft,a(s(o)(`Tone ${u+1}`)),1),m(t("input",{"onUpdate:modelValue":_=>e.text=_,type:"text",class:"input"},null,8,Lt),[[x,e.text]]),n(g,{message:s(l).errors[`tones.${u}.text`]},null,8,["message"])]))),128)),t("div",qt,[t("label",zt,a(s(o)("Status")),1),m(t("select",{required:"","onUpdate:modelValue":c[5]||(c[5]=e=>s(l).status=e),class:"select",name:"status"},[t("option",jt,a(s(o)("Active")),1),t("option",Ot,a(s(o)("Draft")),1)],512),[[w,s(l).status]])])]),t("div",Rt,[t("div",Yt,[t("button",Gt,[t("span",null,a(s(o)("Close")),1)]),n($,{classes:"btn btn-primary w-full",processing:s(l).processing,"btn-text":s(o)("Update")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{as as default};
