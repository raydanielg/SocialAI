import{s as D,l as V,p as s,T as v,h as w,c as u,b as t,a as r,t as o,u as e,F as x,r as $,i as h,e as g,w as T,d as m,v as p,g as U,o as d,j as M,k as j,z as A,n as S,q as B}from"./app-13978987.js";import{_ as R}from"./AdminLayout-bd13ff9d.js";import{_ as Y}from"./PageHeader-8c638686.js";import{_ as z}from"./Paginate-f61b79b2.js";import{h as E}from"./moment-a9aaa855.js";import I from"./OverviewGrid-21ea6fc2.js";import{_ as O}from"./Filter-ccd66554.js";import{_ as F}from"./SpinnerBtn-cb152833.js";import{d as y}from"./drawer-fe4c5e1a.js";import{_ as L}from"./NoDataFound-bc81d7fa.js";import"./dropdown-45d66330.js";const G={class:"container flex-grow p-4 sm:p-6"},H={class:"space-y-6"},J={class:"table-responsive whitespace-nowrap rounded-primary"},K={class:"table"},P={class:"w-[5%] uppercase"},Q={class:"w-[15%] uppercase"},W={class:"w-[10%] uppercase"},X={class:"w-[10%] uppercase"},Z={class:"w-[10%] uppercase"},tt={class:"w-[5%] !text-right uppercase"},et={key:0},st={class:"text-left"},ot={class:"text-center"},at={class:"flex justify-end"},nt={class:"dropdown","data-placement":"bottom-start"},it={class:"dropdown-toggle"},lt={class:"dropdown-content w-40"},rt={class:"dropdown-list"},dt={class:"dropdown-list-item"},ct=["onClick"],ut={id:"addNewNotificationDrawer",class:"drawer drawer-right"},mt={class:"drawer-header"},pt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},_t={class:"drawer-body"},ft={class:"form-group"},ht={class:"form-group"},bt={class:"form-group"},vt={class:"form-group"},wt={class:"drawer-footer"},xt={class:"flex justify-end gap-2"},gt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},yt=U({layout:R}),St=Object.assign(yt,{__name:"Index",props:["segments","buttons","request","notifications","totalNotifications","readNotifications","unreadNotifications","type"],setup(i){const{textExcerpt:_,deleteRow:N}=D();V(()=>{y.init()});const c=i,k=[{value:c.totalNotifications,title:s("Total Notifications"),iconClass:"bx:user-voice"},{value:c.readNotifications,title:s("Read Notifications"),iconClass:"bx:envelope-open"},{value:c.unreadNotifications,title:s("Unread Notifications"),iconClass:"bx:envelope"}];v({search:c.request.search,type:c.type});const n=v({email:"",title:"",description:"",url:""}),C=()=>{n.post(route("admin.notification.store"),{onSuccess:()=>{n.reset(),B.success(s("Notification created successfully")),y.of("#addNewNotificationDrawer").hide()}})};return(b,l)=>{const f=w("Icon"),q=w("Alert");return d(),u(x,null,[t("main",G,[r(Y,{title:"Notifications",buttons:i.buttons},null,8,["buttons"]),t("div",H,[r(I,{items:k,grid:"3"}),r(O,{request:i.request,filterType:"notification"},null,8,["request"]),t("div",J,[t("table",K,[t("thead",null,[t("tr",null,[t("th",P,o(e(s)("Title")),1),t("th",Q,o(e(s)("Comment")),1),t("th",W,o(e(s)("User")),1),t("th",X,o(e(s)("Seen")),1),t("th",Z,o(e(s)("Created At")),1),t("th",tt,o(e(s)("Actions")),1)])]),i.notifications.total?(d(),u("tbody",et,[(d(!0),u(x,null,$(i.notifications.data,a=>(d(),u("tr",{key:a.id},[t("td",st,o(e(_)(a.title,80)),1),t("td",null,o(e(_)(a.comment,50)),1),t("td",null,[r(e(A),{class:"text-dark",href:b.route("admin.users.show",a.user_id)},{default:M(()=>[j(o(e(_)(a.user.name,15)),1)]),_:2},1032,["href"])]),t("td",null,[t("span",{class:S(["badge",a.seen==1?"badge-success":"badge-danger"])},o(a.seen==1?"Read":"Unread"),3)]),t("td",ot,o(e(E)(a.created_at).format("DD-MMM-YYYY")),1),t("td",null,[t("div",at,[t("div",nt,[t("div",it,[r(f,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",lt,[t("ul",rt,[t("li",dt,[t("a",{class:"dropdown-link delete-confirm",href:"javascript:void(0)",onClick:Nt=>e(N)(b.route("admin.notification.destroy",a.id))},[r(f,{icon:"fe:trash"}),t("span",null,o(e(s)("Delete")),1)],8,ct)])])])])])])]))),128))])):(d(),h(L,{key:1,"for-table":"true"}))]),i.notifications.data.length==0?(d(),h(q,{key:0,type:"info",text:e(s)("Opps you have not created any plan....")},null,8,["text"])):g("",!0)]),i.notifications.data.length!=0?(d(),h(z,{key:0,links:i.notifications.links},null,8,["links"])):g("",!0)])]),t("div",ut,[t("form",{onSubmit:T(C,["prevent"])},[t("div",mt,[t("h5",null,o(e(s)("Send Notification")),1),t("button",pt,[r(f,{class:"text-xl",icon:"mdi:close"})])]),t("div",_t,[t("div",ft,[t("label",null,o(e(s)("Receive Email")),1),m(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>e(n).email=a),type:"email",name:"email",class:"input",required:""},null,512),[[p,e(n).email]])]),t("div",ht,[t("label",null,o(e(s)("Title")),1),m(t("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>e(n).title=a),type:"text",name:"title",class:"input",required:"",maxlength:"100"},null,512),[[p,e(n).title]])]),t("div",bt,[t("label",null,o(e(s)("Description")),1),m(t("textarea",{"onUpdate:modelValue":l[2]||(l[2]=a=>e(n).description=a),class:"textarea",required:"",name:"description",maxlength:"200"},null,512),[[p,e(n).description]])]),t("div",vt,[t("label",null,o(e(s)("Action Link")),1),m(t("input",{"onUpdate:modelValue":l[3]||(l[3]=a=>e(n).url=a),type:"url",name:"url",class:"input",required:"",maxlength:"100"},null,512),[[p,e(n).url]])])]),t("div",wt,[t("div",xt,[t("button",gt,[t("span",null,o(e(s)("Close")),1)]),r(F,{classes:"btn btn-primary",processing:e(n).processing,"btn-text":e(s)("Create Notification")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{St as default};
