import{h as v}from"./moment-a9aaa855.js";import{_ as z}from"./FilterDropdown-9268f1dc.js";import{_ as F}from"./Paginate-f61b79b2.js";import{_ as I,a as L}from"./PostCard-2b89f3e2.js";import{_ as A}from"./CreatePostCard-92b6d387.js";import{s as q,m as j,l as Q,h as N,x as R,c as r,a as l,u as c,b as e,n as P,t as i,j as g,F as m,r as _,e as p,g as Z,O as G,o as s,Z as H,k as E,i as J,d as K}from"./app-13978987.js";import{_ as U}from"./UserLayout-6a50516d.js";import{u as W}from"./Modal-17c50704.js";import"./SpinnerBtn-899a94c2.js";import"./HollowDotsSpinner-aede4138.js";import"./InputFieldError-52549d23.js";import"./dropdown-45d66330.js";const X={class:"container flex-grow p-4 sm:p-6"},ee={class:"mt-4 flex items-center justify-between"},te={class:"card max-w-max p-1"},ae={class:"w-80"},se={class:"mt-8"},ne={key:0,class:"bg-transparent"},re={key:0,class:"alert alert-info flex justify-center gap-3"},oe={class:"dark:text-white"},le={key:1,class:"grid grid-cols-1 gap-12 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},de={key:1,class:"card"},ie={key:0,class:"alert alert-info flex justify-center gap-3"},ce={class:"dark:text-white"},ue={key:1,class:"card-body"},me={class:"mt-5 flex gap-3"},be=e("i",{class:"bx bx-chevron-left text-2xl"},null,-1),fe=[be],he=e("i",{class:"bx bx-chevron-right text-2xl"},null,-1),ve=[he],ge={class:"mt-5 flex flex-wrap items-start justify-evenly gap-2"},_e={class:"mb-3"},pe={key:0,class:"mt-1 rounded-lg bg-white p-1 text-sm dark:bg-slate-800"},ke=["onClick"],ye=e("i",{class:"bx bx-trash"},null,-1),we=[ye],xe=Z({layout:U}),Ve=Object.assign(xe,{__name:"Index",props:["request","hasBrand","contents","type","items","weekStartDate","weekEndDate","totalBrandPost","brands"],setup(d){var x,C;const{textExcerpt:T,getQueryParams:k,deleteRow:M}=q(),b=W(),y=j((x=k())==null?void 0:x.brand);Q(()=>setTimeout(()=>{y.value&&b.open("createContent")},500));const u=j(((C=k())==null?void 0:C.active_tab)??"calendar"),w=n=>{G.get(window.location.href,{start_at:n},{preserveState:!0})},O=[{label:"Title",value:"title"},{label:"Status",value:"status",options:[{label:"Draft",value:"draft"},{label:"Published",value:"published"}]}];return(n,t)=>{const B=N("Icon"),f=N("Link"),V=R("lazy");return s(),r(m,null,[l(I,{totalBrandPost:d.totalBrandPost,brand_uuid:y.value,brands:d.brands},null,8,["totalBrandPost","brand_uuid","brands"]),l(c(H),{title:n.trans("Content")},null,8,["title"]),e("main",X,[e("div",ee,[e("div",te,[e("button",{class:P(["btn w-full px-12 py-2 md:w-auto",{"btn-primary":u.value==="calendar"}]),onClick:t[0]||(t[0]=o=>u.value="calendar")},[l(B,{icon:"fe:calendar",height:"1rem",width:"1rem"}),e("span",null,i(n.trans("Calender")),1)],2),e("button",{class:P(["btn w-full px-12 py-2 md:w-auto",{"btn-primary":u.value==="card"}]),onClick:t[1]||(t[1]=o=>u.value="card")},[l(B,{icon:"fe:grid",height:"1rem",width:"1rem"}),e("span",null,i(n.trans("Cards")),1)],2)]),e("div",ae,[l(z,{options:O,appends:{active_tab:"card"}})])]),e("div",se,[u.value==="card"?(s(),r("div",ne,[d.hasBrand?(s(),r("div",le,[l(A,{onAction:t[2]||(t[2]=o=>c(b).open("createContent"))}),(s(!0),r(m,null,_(d.contents.data,o=>(s(),J(L,{content:o,key:o.id},null,8,["content"]))),128))])):(s(),r("div",re,[e("span",oe,i(n.trans("You need to create a brand first")),1),l(f,{href:n.route("user.brand.create"),class:"btn btn-primary"},{default:g(()=>[E(" Create New Brand ")]),_:1},8,["href"])])),l(F,{preserveState:!0,links:d.contents.links},null,8,["links"])])):p("",!0),u.value==="calendar"?(s(),r("div",de,[d.hasBrand?(s(),r("div",ue,[e("h5",null,i(n.trans("Calendar")),1),e("div",me,[e("button",{onClick:t[3]||(t[3]=o=>w(c(v)(d.weekStartDate).days(-7).format("Y-M-D"))),class:"btn rounded-lg border-dashed bg-slate-100 px-2 py-1 hover:bg-slate-200 dark:bg-slate-900 dark:hover:bg-gray-700"},fe),e("button",{onClick:t[4]||(t[4]=o=>w(c(v)(d.weekEndDate).days(1).format("Y-M-D"))),class:"btn rounded-lg border-dashed bg-slate-100 px-2 py-1 hover:bg-slate-200 dark:bg-slate-900 dark:hover:bg-gray-700"},ve)]),e("div",ge,[(s(!0),r(m,null,_(d.items,o=>{var $;return s(),r("div",{class:"w-48 flex-1 rounded-md border border-dashed border-green-500 bg-slate-50 p-1 text-center dark:bg-slate-900",key:o.date},[e("p",_e,i(o.date),1),e("button",{onClick:t[5]||(t[5]=a=>c(b).open("createContent")),class:"btn mb-1 whitespace-nowrap border border-dashed border-green-500 text-green-900 hover:bg-gray-700 dark:text-white"},i(n.trans("Create New")),1),($=o.contents)!=null&&$.length?(s(),r("div",pe,[(s(!0),r(m,null,_(o.contents,a=>{var D,S;return s(),r("div",{key:a.id,class:"flex flex-col items-center justify-center rounded-lg border p-2 text-center dark:border-slate-600"},[l(f,{href:(D=a==null?void 0:a.brandpost)!=null&&D.uuid?n.route("user.publish",(S=a==null?void 0:a.brandpost)==null?void 0:S.uuid):"#"},{default:g(()=>{var h;return[K(e("img",{onError:t[6]||(t[6]=Y=>Y.target.src="/assets/images/no-photo-available.png"),class:"h-full w-full rounded border"},null,544),[[V,((h=a==null?void 0:a.media)==null?void 0:h[0])??"/assets/images/no-photo-available.png"]]),e("span",null,i(c(T)(a.content,15)),1),e("p",null," Time: "+i(c(v)(a.scheduled_at).format("h:mm A")),1)]}),_:2},1032,["href"]),e("button",{onClick:h=>c(M)(n.route("user.brand-post-platforms.removeSchedule",a)),class:"btn btn-soft-danger mt-2 w-full"},we,8,ke)])}),128))])):p("",!0)])}),128))])])):(s(),r("div",ie,[e("span",ce,i(n.trans("You need to create a brand first")),1),l(f,{href:n.route("user.brand.create"),class:"btn btn-primary"},{default:g(()=>[E(" Create New Brand ")]),_:1},8,["href"])]))])):p("",!0)])])],64)}}});export{Ve as default};
