import{B as z,m as y,c as r,b as s,F as c,r as b,u as e,n as d,a as v,e as n,t as P,d as T,v as F,o as a}from"./app-13978987.js";import{_ as A}from"./IntersectionObserver-6d2f0926.js";import{_ as N}from"./CreatePostCard-92b6d387.js";import{_ as B}from"./HollowDotsSpinner-aede4138.js";import{u as I}from"./publishStore-a6d0eb83.js";import{u as Q}from"./publishAssetStore-a725f363.js";const U=["onClick"],D={class:"mt-3 grid grid-cols-1 gap-4 overflow-y-auto sm:grid-cols-2"},j=["onClick"],E={controls:"",class:"h-full w-full"},G=["src"],H=["disabled"],L={key:0,class:"my-1.5 mr-px h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},R=s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),q=s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),J=[R,q],K={key:1,class:"bx bx-refresh mt-0.5 text-2xl"},O=s("span",null,"Generate",-1),W={class:"grid grid-cols-2 gap-4 overflow-y-auto"},X=["onClick"],Y={class:"h-full w-full",controls:""},Z=["src"],ee=["src"],te={key:0,class:"text-center"},oe=s("label",{class:"label mb-1 mt-4"},"Search",-1),se={class:"mb-5 flex gap-x-2"},ie=["disabled"],re=s("i",{class:"bx bx-search-alt"},null,-1),ae=[re],le={key:0,class:"flex justify-center"},ne={key:1,class:"grid grid-cols-2 gap-4 overflow-y-auto"},de=["onClick"],ce={class:"h-full w-full",controls:""},ue=["src"],pe={key:2,class:"text-center"},_e={__name:"VideosTab",props:["generatedVideos","uploadedVideos","isVideoPromptActive"],setup(m){const i=I(),o=Q(),{getVideosTabState:h}=z(i),f=y(null),S=y(null),M=y(null);return($,l)=>{var _,k,V,w,x,C;return a(),r(c,null,[s("div",{class:d(["grid max-w-max grid-cols-1 rounded-xl bg-secondary-200/50 p-1 dark:bg-secondary-900 lg:flex-row",{"sm:grid-cols-3":m.isVideoPromptActive,"sm:grid-cols-2":!m.isVideoPromptActive}])},[(a(!0),r(c,null,b(e(i).assetTabs,t=>(a(),r(c,{key:t},[t==="ai"&&m.isVideoPromptActive||t!=="ai"?(a(),r("button",{key:0,class:d(["btn px-12 py-2 capitalize 2xl:px-14",{"btn-primary":e(h)(t)}]),onClick:u=>e(i).setVideosTab(t)},P(t),11,U)):n("",!0)],64))),128))],2),e(h)("uploads")?(a(),r(c,{key:0},[s("div",D,[s("input",{ref_key:"assetVideoInput",ref:f,onInput:l[0]||(l[0]=t=>e(o).submitAsset(t,"video")),accept:"video/*",type:"file",hidden:""},null,544),v(N,{onAction:l[1]||(l[1]=t=>f.value.click()),percentage:e(o).assetUploadProgress,classes:"h-44",text:"Upload New"},null,8,["percentage"]),((_=e(o).assets.uploadedVideos)==null?void 0:_.data.length)>0?(a(!0),r(c,{key:0},b(e(o).assets.uploadedVideos.data,t=>{var u,p;return a(),r("div",{key:t.path,class:d(["group relative h-44 overflow-hidden rounded-lg",{"border-2 border-primary-500 shadow shadow-primary-500":(u=e(i).getActivePlatformContent("media"))==null?void 0:u.includes(t.path)}])},[s("button",{onClick:g=>e(i).setPlatformMedia(t.path,"uploads","video"),class:"btn btn-sm btn-primary absolute right-1 top-2 z-50 h-8 w-8 rounded-full opacity-0 group-hover:opacity-100"},[s("i",{class:d(["bx",(p=e(i).getActivePlatformContent("media"))!=null&&p.includes(t.path)?"bx-minus":"bx-plus"])},null,2)],8,j),s("video",E,[s("source",{src:t.path,type:"video/mp4"},null,8,G)])],2)}),128)):n("",!0)]),v(A,{"target-view":S.value,"observer-condition":e(o).assets.uploadedVideos.loadMore,"after-intersection":()=>e(o).loadMoreAssets("uploaded","Videos"),loader:e(o).assets.loading},null,8,["target-view","observer-condition","after-intersection","loader"])],64)):n("",!0),e(h)("ai")&&m.isVideoPromptActive?(a(),r(c,{key:1},[s("button",{disabled:e(o).loading.aiVideo,type:"button",onClick:l[2]||(l[2]=(...t)=>e(o).generateVideo&&e(o).generateVideo(...t)),class:"btn btn-soft-primary my-3 w-full"},[e(o).loading.aiVideo?(a(),r("svg",L,J)):(a(),r("i",K)),O],8,H),s("div",W,[((k=e(o).assets.generatedVideos.data)==null?void 0:k.length)>0?(a(!0),r(c,{key:0},b(e(o).assets.generatedVideos.data,(t,u)=>{var p,g;return a(),r("div",{key:u,class:d(["group relative h-44 overflow-hidden rounded-lg",{"border border-primary-500 shadow shadow-primary-500":(p=e(i).getActivePlatformContent("media"))==null?void 0:p.includes(t.path)}])},[s("button",{type:"button",onClick:me=>e(i).setPlatformMedia(t.path,"ai","video"),class:"btn btn-sm btn-primary absolute right-1 top-2 z-50 h-8 w-8 rounded-full opacity-0 group-hover:opacity-100"},[s("i",{class:d(["bx",(g=e(i).getActivePlatformContent("media"))!=null&&g.includes(t.path)?"bx-minus":"bx-plus"])},null,2)],8,X),s("video",Y,[s("source",{src:t.path,type:"video/mp4"},null,8,Z)])],2)}),128)):n("",!0),((V=e(o).aiVideos)==null?void 0:V.length)>0?(a(),r("div",{key:1,class:d(["group relative h-44 overflow-hidden rounded-lg",{"border border-primary-500 shadow shadow-primary-500":(w=e(i).getActivePlatformContent("media"))==null?void 0:w.includes(e(i).aiVideos)}])},[s("button",{onClick:l[3]||(l[3]=t=>e(i).setPlatformMedia(e(i).aiVideos,"ai","video")),class:"btn btn-sm btn-primary absolute right-1 top-2 z-50 h-8 w-8 rounded-full opacity-0 group-hover:opacity-100"},[s("i",{class:d(["bx",(x=e(i).getActivePlatformContent("media"))!=null&&x.includes(e(i).aiVideos)?"bx-minus":"bx-plus"])},null,2)]),s("video",{class:"h-full w-full",controls:"",onClick:l[4]||(l[4]=t=>e(i).setPlatformMedia(e(i).aiVideos,"ai","video"))},[s("source",{src:e(o).aiVideos,type:"video/mp4"},null,8,ee)])],2)):n("",!0),v(A,{"target-view":M.value,"observer-condition":e(o).assets.generatedVideos.loadMore,"after-intersection":()=>e(o).loadMoreAssets("generated","Videos"),loader:e(o).assets.loading},null,8,["target-view","observer-condition","after-intersection","loader"])]),e(o).isStockVideosFetched&&!e(o).loading.aiVideo&&e(o).aiVideos.length<1?(a(),r("p",te,P($.trans("Nothing Found!")),1)):n("",!0)],64)):n("",!0),e(h)("stock")?(a(),r(c,{key:2},[oe,s("div",se,[T(s("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=t=>e(o).videoSearchQuery=t),class:"input",placeholder:"Search videos.."},null,512),[[F,e(o).videoSearchQuery]]),s("button",{disabled:e(o).videoSearchQuery.length<2,type:"button",onClick:l[6]||(l[6]=(...t)=>e(o).stockVideoSearch&&e(o).stockVideoSearch(...t)),class:"btn btn-soft-primary text-xl"},ae,8,ie)]),e(o).loading.stockVideos?(a(),r("div",le,[v(B)])):n("",!0),!e(o).loading.stockVideos&&((C=e(o).stockVideos)==null?void 0:C.length)>0?(a(),r("div",ne,[(a(!0),r(c,null,b(e(o).stockVideos,t=>{var u,p;return a(),r("div",{key:t.id,class:d(["group relative h-44 overflow-hidden rounded-lg",{"border border-primary-500 shadow shadow-primary-500":(u=e(i).getActivePlatformContent("media"))==null?void 0:u.includes(t.link)}])},[s("button",{onClick:g=>e(i).setPlatformMedia(t.link,"stock","video"),class:"btn btn-sm btn-primary absolute right-1 top-2 z-50 h-8 w-8 rounded-full opacity-0 group-hover:opacity-100"},[s("i",{class:d(["bx",(p=e(i).getActivePlatformContent("media"))!=null&&p.includes(t.link)?"bx-minus":"bx-plus"])},null,2)],8,de),s("video",ce,[s("source",{src:t.link,type:"video/mp4"},null,8,ue)])],2)}),128))])):n("",!0),e(o).isStockVideosFetched&&!e(o).loading.stockVideos&&e(o).stockVideos.length<1?(a(),r("p",pe," Nothing Found! ")):n("",!0)],64)):n("",!0)],64)}}};export{_e as default};
