import{T as $,m as z,W as B,l as L,h as I,o as m,c as b,b as e,a as d,t as o,k as M,w as V,u as t,d as p,f as A,F as P,r as F,v as y,I as E,O as R,s as K,p as n,i as T,e as Q,g as W,j,n as G,q as H}from"./app-13978987.js";import{_ as J}from"./AdminLayout-bd13ff9d.js";import{_ as X}from"./PageHeader-8c638686.js";import Y from"./OverviewGrid-21ea6fc2.js";import{_ as Z}from"./Paginate-f61b79b2.js";import{d as N}from"./drawer-fe4c5e1a.js";import{_ as U}from"./SpinnerBtn-cb152833.js";import{_ as ee}from"./NoDataFound-bc81d7fa.js";import"./dropdown-45d66330.js";const te={class:"flex items-stretch justify-end gap-x-2"},se={class:"dropdown","data-placement":"bottom-end"},oe={class:"dropdown-toggle"},ne={type:"button",class:"font-medium bg-white shadow-sm btn dark:bg-slate-800 hover:dark:bg-slate-700 border border-slate-700"},ae={class:"dropdown-content w-72 !overflow-visible"},le={class:"p-4 space-y-4 dropdown-list"},ie={key:0,class:"dropdown-list-item"},re={class:"mb-1 capitalize"},de=["value"],ce={key:1,class:"dropdown-list-item"},ue={class:"mb-1"},pe={class:"dropdown-list-item"},me={class:"mb-1"},_e=["value","selected"],be={class:"dropdown-list-item"},he=e("i",{class:"bx bx-x"},null,-1),ve=[he],ye={__name:"FilterForm",props:{action:{type:String,required:!1,default:""},options:{type:[Array,Object],required:!1,default:[{value:"id",label:"id",selected:!0}]}},setup(h){var g,O,C,l,w,f;const v=h,x=()=>{const s={},_=new URLSearchParams(window.location.search);for(const[c,i]of _)s.hasOwnProperty(c)?Array.isArray(s[c])?s[c].push(i):s[c]=[s[c],i]:s[c]=i;return s},a=$({search:((g=x())==null?void 0:g.search)??"",type:((O=x())==null?void 0:O.type)??((l=(C=v.options)==null?void 0:C.find(s=>s.selected))==null?void 0:l.value)??((f=(w=v.options)==null?void 0:w[0])==null?void 0:f.value)??""}),D=()=>{a.get(v.action)},u=()=>{R.get(location.pathname)},r=z([]);return B(()=>a.type,()=>{var s,_,c,i;if(a.search="",v.options&&a.type){let S=((s=v.options)==null?void 0:s.find(q=>q.value==a.type))??[];r.value=S.options??[],a.search=((c=(_=S.options)==null?void 0:_.find(q=>q.selected==!0))==null?void 0:c.value)??((i=r.value[0])==null?void 0:i.value)??""}else r.value=[]}),L(()=>{var c,i;let s=((c=v.options)==null?void 0:c.find(S=>S.value==a.type))??{};s.hasOwnProperty("options")&&Array.isArray(s.options)&&(r.value=s.options,a.search||(a.search=((i=r.value[0])==null?void 0:i.value)??""))}),(s,_)=>{const c=I("Icon");return m(),b("div",te,[e("div",se,[e("div",oe,[e("button",ne,[d(c,{icon:"fe:filter"}),e("span",null,o(s.trans("Filter")),1),d(c,{icon:"bx:chevron-down"})])]),e("div",ae,[M(o(v.action??"nai")+" ",1),e("form",{onSubmit:V(D,["prevent"])},[e("ul",le,[r.value.length?(m(),b("li",ie,[e("label",re,o(t(a).type),1),p(e("select",{class:"select","onUpdate:modelValue":_[0]||(_[0]=i=>t(a).search=i)},[(m(!0),b(P,null,F(r.value,i=>(m(),b("option",{key:i.value,value:i.value},o(i.label),9,de))),128))],512),[[A,t(a).search]])])):(m(),b("li",ce,[e("label",ue,o(s.trans("Search Keyword")),1),p(e("input",{type:"text","onUpdate:modelValue":_[1]||(_[1]=i=>t(a).search=i),class:"input",placeholder:"enter search keyword"},null,512),[[y,t(a).search]])])),e("li",pe,[e("label",me,o(s.trans("Search Type")),1),p(e("select",{class:"select","onUpdate:modelValue":_[2]||(_[2]=i=>t(a).type=i)},[(m(!0),b(P,null,F(h.options,i=>(m(),b("option",{key:i.value,value:i.value,selected:i.selected},o(i.label),9,_e))),128))],512),[[A,t(a).type]])]),e("li",be,[d(U,{type:"submit",processing:t(a).processing,"btn-text":s.trans("Search"),class:"w-full btn btn-primary"},null,8,["processing","btn-text"])])])],32)])]),p(e("button",{onClick:u,class:"flex items-center bg-gray-300 border dark:bg-gray-700 btn hover:dark:bg-slate-800 hover:dark:border-slate-700 dark:border-gray-600",title:"clear filter"},ve,512),[[E,x().search]])])}}},fe={class:"container flex-grow p-4 sm:p-6"},we={class:"space-y-4"},ge={class:"table-responsive whitespace-nowrap rounded-primary"},xe={class:"table"},ke={class:"w-[5%] uppercase"},Ce={class:"w-[15%] uppercase"},Oe={class:"w-[10%] uppercase"},Se={class:"w-[10%] uppercase"},$e={class:"w-[10%] uppercase"},Ve={class:"w-[10%] uppercase"},Ue={class:"w-[5%] !text-right uppercase"},Pe={key:0},De={class:"text-center"},qe={class:"flex justify-end"},Ie={class:"dropdown","data-placement":"bottom-start"},Ae={class:"dropdown-toggle"},Fe={class:"dropdown-content w-40"},Te={class:"dropdown-list"},je={class:"dropdown-list-item"},Ne={id:"invoiceSettingDrawer",class:"drawer drawer-right"},Le={class:"drawer-header"},Me={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ze={class:"drawer-body"},Be={class:"mb-2"},Ee={class:"mb-2"},Re={class:"mb-2"},Ke={class:"mb-2"},Qe={class:"mb-2"},We={class:"drawer-footer"},Ge={class:"flex justify-end gap-2"},He={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Je={id:"currencySettingDrawer",class:"drawer drawer-right"},Xe={class:"drawer-header"},Ye={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Ze={class:"drawer-body"},et={class:"mb-2"},tt={class:"mb-2"},st={class:"mb-2"},ot={value:"left"},nt={value:"right"},at={class:"drawer-footer"},lt={class:"flex justify-end gap-2"},it={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},rt={id:"taxSettingDrawer",class:"drawer drawer-right"},dt={class:"drawer-header"},ct={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ut={class:"drawer-body"},pt={class:"mb-2"},mt={class:"drawer-footer"},_t={class:"flex justify-end gap-2"},bt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},ht=e("div",{class:"drawer-backdrop"},null,-1),vt=W({layout:J}),$t=Object.assign(vt,{__name:"Index",props:["buttons","orders","request","totalOrders","totalPendingOrders","totalCompleteOrders","totalDeclinedOrders","type","invoice","currency","tax"],setup(h){L(()=>{N.init()});const{formatCurrency:v,badgeClass:x}=K(),a=h,D=[{value:a.totalOrders,title:n("Total Orders"),iconClass:"bx:badge-check"},{value:a.totalPendingOrders,title:n("Pending Orders"),iconClass:"bx:badge"},{value:a.totalCompleteOrders,title:n("Completed Orders"),iconClass:"bx:check"},{value:a.totalDeclinedOrders,title:n("Declined Orders"),iconClass:"bx:x-circle"}],u=$({company_name:a.invoice.company_name,address:a.invoice.address,city:a.invoice.city,post_code:a.invoice.post_code,country:a.invoice.country}),r=$({name:a.currency.name,icon:a.currency.icon,position:a.currency.position}),k=$({tax:a.tax});function g(C,l,w){C.put(route("admin.option.update",l),{onSuccess:()=>{H.success("Option Updated successfully"),N.of(w).hide()}})}const O=[{value:"invoice_no",label:"Invoice No"},{value:"email",label:"Email"},{label:"Status",value:"status",options:[{label:"Pending",value:"0"},{label:"Active",value:"1"}]}];return(C,l)=>{const w=I("Link"),f=I("Icon");return m(),b(P,null,[e("main",fe,[d(X,{title:t(n)("Order List"),buttons:h.buttons},null,8,["title","buttons"]),e("div",we,[d(Y,{items:D}),d(ye,{options:O}),e("div",ge,[e("table",xe,[e("thead",null,[e("tr",null,[e("th",ke,o(t(n)("Order No")),1),e("th",Ce,o(t(n)("Plan Name")),1),e("th",Oe,o(t(n)("Payment Mode")),1),e("th",Se,o(t(n)("Amount")),1),e("th",$e,o(t(n)("Status")),1),e("th",Ve,o(t(n)("Created At")),1),e("th",Ue,o(t(n)("Actions")),1)])]),h.orders.total?(m(),b("tbody",Pe,[(m(!0),b(P,null,F(h.orders.data,s=>(m(),b("tr",{key:s.id},[e("td",null,[d(w,{href:"/admin/order/"+s.id,class:"text-sm font-medium text-primary-500 transition duration-150 ease-in-out hover:underline"},{default:j(()=>[M(o(s.invoice_no),1)]),_:2},1032,["href"])]),e("td",null,o(s.plan.title),1),e("td",null,o(s.gateway.name),1),e("td",null,o(t(v)(s.amount)),1),e("td",null,[e("div",{class:G(["capitalize",t(x)(s.status)])},o(s.status),3)]),e("td",De,o(s.created_at_diff),1),e("td",null,[e("div",qe,[e("div",Ie,[e("div",Ae,[d(f,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),e("div",Fe,[e("ul",Te,[e("li",je,[d(w,{href:"/admin/order/"+s.id,class:"dropdown-link"},{default:j(()=>[d(f,{icon:"fe:eye"}),e("span",null,o(t(n)("View")),1)]),_:2},1032,["href"])])])])])])])]))),128))])):(m(),T(ee,{key:1,"for-table":"true"}))])]),h.orders.data.length!=0?(m(),T(Z,{key:0,links:h.orders.links},null,8,["links"])):Q("",!0)])]),e("div",Ne,[e("form",{method:"POST",onSubmit:l[5]||(l[5]=V(s=>g(t(u),"invoice_data","#invoiceSettingDrawer"),["prevent"]))},[e("div",Le,[e("h5",null,o(t(n)("Edit Invoice Information")),1),e("button",Me,[d(f,{class:"text-xl",icon:"mdi:close"})])]),e("div",ze,[e("div",Be,[e("label",null,o(t(n)("Company Name")),1),p(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>t(u).company_name=s),class:"input",required:""},null,512),[[y,t(u).company_name]])]),e("div",Ee,[e("label",null,o(t(n)("Company Address")),1),p(e("input",{type:"text",name:"data[address]","onUpdate:modelValue":l[1]||(l[1]=s=>t(u).address=s),class:"input",required:""},null,512),[[y,t(u).address]])]),e("div",Re,[e("label",null,o(t(n)("Company City")),1),p(e("input",{type:"text",name:"data[city]","onUpdate:modelValue":l[2]||(l[2]=s=>t(u).city=s),class:"input",required:""},null,512),[[y,t(u).city]])]),e("div",Ke,[e("label",null,o(t(n)("Post Code")),1),p(e("input",{type:"text",name:"data[post_code]","onUpdate:modelValue":l[3]||(l[3]=s=>t(u).post_code=s),class:"input",required:""},null,512),[[y,t(u).post_code]])]),e("div",Qe,[e("label",null,o(t(n)("Country")),1),p(e("input",{type:"text",name:"data[country]","onUpdate:modelValue":l[4]||(l[4]=s=>t(u).country=s),class:"input",required:""},null,512),[[y,t(u).country]])])]),e("div",We,[e("div",Ge,[e("button",He,[e("span",null,o(t(n)("Close")),1)]),d(U,{classes:"btn btn-primary",processing:t(u).processing,"btn-text":"Update"},null,8,["processing"])])])],32)]),e("div",Je,[e("form",{method:"POST",onSubmit:l[9]||(l[9]=V(s=>g(t(r),"base_currency","#currencySettingDrawer"),["prevent"]))},[e("div",Xe,[e("h5",null,o(t(n)("Currency Settings")),1),e("button",Ye,[d(f,{class:"text-xl",icon:"mdi:close"})])]),e("div",Ze,[e("div",et,[e("label",null,o(t(n)("Currency Name")),1),p(e("input",{type:"text",name:"data[name]","onUpdate:modelValue":l[6]||(l[6]=s=>t(r).name=s),class:"input",required:""},null,512),[[y,t(r).name]])]),e("div",tt,[e("label",null,o(t(n)("Currency Icon")),1),p(e("input",{type:"text",name:"data[icon]","onUpdate:modelValue":l[7]||(l[7]=s=>t(r).icon=s),class:"input",required:""},null,512),[[y,t(r).icon]])]),e("div",st,[e("label",null,o(t(n)("Currency Icon")),1),p(e("select",{class:"select",name:"data[position]","onUpdate:modelValue":l[8]||(l[8]=s=>t(r).position=s)},[e("option",ot,o(t(n)("Left")),1),e("option",nt,o(t(n)("Right")),1)],512),[[A,t(r).position]])])]),e("div",at,[e("div",lt,[e("button",it,[e("span",null,o(t(n)("Close")),1)]),d(U,{classes:"btn btn-primary",processing:t(r).processing,"btn-text":t(n)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),e("div",rt,[e("form",{method:"POST",onSubmit:l[11]||(l[11]=V(s=>g(t(k),"tax","#taxSettingDrawer"),["prevent"]))},[e("div",dt,[e("h5",null,o(t(n)("Tax Settings")),1),e("button",ct,[d(f,{class:"text-xl",icon:"mdi:close"})])]),e("div",ut,[e("div",pt,[e("label",null,o(t(n)("Tax Amount")),1),p(e("input",{type:"number",step:"any",name:"data","onUpdate:modelValue":l[10]||(l[10]=s=>t(k).tax=s),class:"input",required:""},null,512),[[y,t(k).tax]])])]),e("div",mt,[e("div",_t,[e("button",bt,[e("span",null,o(t(n)("Close")),1)]),d(U,{classes:"btn btn-primary",processing:t(k).processing,"btn-text":t(n)("Save Changes")},null,8,["processing","btn-text"])])])],32),ht])],64)}}});export{$t as default};
