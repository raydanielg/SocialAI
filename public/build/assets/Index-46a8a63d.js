import{l as J,s as K,T as Q,h as A,c,b as t,a as u,F as m,r as E,i as W,w as X,t as o,d,v as r,u as e,g as Y,o as p,k as v,e as Z,j as tt,q as M}from"./app-13978987.js";import{_ as st}from"./AdminLayout-bd13ff9d.js";import{_ as et}from"./NoDataFound-bc81d7fa.js";import{_ as at}from"./PageHeader-8c638686.js";import{d as F}from"./drawer-fe4c5e1a.js";import{_ as nt}from"./SpinnerBtn-cb152833.js";import{_ as lt}from"./ImageInput.vue_vue_type_script_setup_true_lang-4a03e2f5.js";import"./dropdown-45d66330.js";const ot={class:"container flex-grow p-4 sm:p-6"},it={class:"space-y-6"},dt={key:0,class:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4"},rt={class:"card-body flex h-full flex-col justify-between"},pt={class:"text-center"},ct={class:"text-muted"},ut=t("hr",{class:"mt-3 opacity-60"},null,-1),_t={key:0,class:"mt-3 text-left"},mt={key:0,class:"far fa-check-circle text-green-600"},bt={key:1,class:"far fa-times-circle text-red-600"},gt={class:"ml-2 text-sm"},vt={class:"mt-4"},ft=t("hr",{class:"opacity-60"},null,-1),yt={class:"mt-4 flex justify-center gap-2"},ht=["onClick"],St={id:"planSettingDrawer",class:"drawer drawer-right"},kt={class:"drawer-header"},wt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},xt={class:"drawer-body styled-scrollbar h-[82vh] overflow-y-scroll"},Vt={class:"mb-2"},Ut={class:"mb-2"},Ct={class:"mb-2"},Pt={class:"mb-2"},Bt={class:"mb-2"},$t={class:"mb-2"},zt={class:"mb-2"},Dt={class:"mb-2"},Lt={class:"mb-2"},Ot={class:"mb-2"},jt={class:"mb-2"},It={class:"drawer-footer"},Nt={class:"flex gap-2"},Tt={type:"button",class:"btn btn-secondary flex-1","data-dismiss":"drawer"},qt=t("div",{class:"drawer-backdrop"},null,-1),At=Y({layout:st}),Qt=Object.assign(At,{__name:"Index",props:["segments","buttons","plans","planSetting"],setup(_){var f,y,h,S,k,w,x,V,U,C,P,B,$,z,D,L,O,j,I,N,T;J(()=>{F.init()});const i=_,{deleteRow:R}=K(),a=Q({overview:(f=i.planSetting)==null?void 0:f.overview,percentage:(y=i.planSetting)==null?void 0:y.percentage,plan_data:{credits:(S=(h=i.planSetting)==null?void 0:h.plan_data)==null?void 0:S.credits,brands:(w=(k=i.planSetting)==null?void 0:k.plan_data)==null?void 0:w.brands,social_accounts:(V=(x=i.planSetting)==null?void 0:x.plan_data)==null?void 0:V.social_accounts,posts:(C=(U=i.planSetting)==null?void 0:U.plan_data)==null?void 0:C.posts,storage_size:(B=(P=i.planSetting)==null?void 0:P.plan_data)==null?void 0:B.storage_size,analytics:(z=($=i.planSetting)==null?void 0:$.plan_data)==null?void 0:z.analytics,stock_library:(L=(D=i.planSetting)==null?void 0:D.plan_data)==null?void 0:L.stock_library,scheduling:(j=(O=i.planSetting)==null?void 0:O.plan_data)==null?void 0:j.scheduling,image_editor:(N=(I=i.planSetting)==null?void 0:I.plan_data)==null?void 0:N.scheduling},banner:(T=i.planSetting)==null?void 0:T.banner,_method:"put"});function G(){a.post(route("admin.option.update","plan"),{onSuccess:()=>{M.success("Option Updated successfully"),F.of("#planSettingDrawer").hide()}})}return(l,n)=>{const b=A("Icon"),H=A("Link");return p(),c(m,null,[t("main",ot,[u(at,{title:l.trans("Subscriptions"),buttons:_.buttons},null,8,["title","buttons"]),t("div",it,[_.plans.length!=0?(p(),c("div",dt,[(p(!0),c(m,null,E(_.plans,s=>(p(),c("div",{class:"card",key:s.id},[t("div",rt,[t("div",null,[t("div",pt,[t("h5",null,o(s.title),1),t("h4",null,o(s.price_format),1),v(" "+o(s.days===30?l.trans("Per month"):s.days===365?l.trans("Per year"):l.trans("Lifetime"))+" ",1),t("p",ct,o(l.trans("Active Users"))+" ("+o(s.activeuser_count)+")",1)]),ut,(p(!0),c(m,null,E(s.data,(g,q)=>(p(),c(m,{key:q},[q!=="stock_content"?(p(),c("div",_t,[g.value?(p(),c("i",mt)):(p(),c("i",bt)),t("span",gt,o(g.overview),1)])):Z("",!0)],64))),128))]),t("div",vt,[ft,t("div",yt,[u(H,{href:l.route("admin.plan.edit",s.id),class:"btn btn-primary px-5"},{default:tt(()=>[u(b,{icon:"bx:pencil"}),v(" Edit ")]),_:2},1032,["href"]),t("button",{onClick:g=>s.activeuser_count==0?e(R)("/admin/plan/"+s.id):e(M).danger("Cannot delete this, Plan has active users"),class:"btn btn-sm btn-danger delete-confirm px-5 text-left","data-icon":"fa fa-plus-circle"},[u(b,{icon:"bx:trash"}),v(" "+o(l.trans("Delete")),1)],8,ht)])])])]))),128))])):(p(),W(et,{key:1}))])]),t("div",St,[t("form",{method:"POST",onSubmit:X(G,["prevent"])},[t("div",kt,[t("h5",null,o(l.trans("Plan Description")),1),t("button",wt,[u(b,{class:"text-xl",icon:"mdi:close"})])]),t("div",xt,[t("div",Vt,[t("label",null,o(l.trans("Overview")),1),d(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>e(a).overview=s),class:"input",required:""},null,512),[[r,e(a).overview]])]),t("div",Ut,[t("label",null,o(l.trans("Save Percentage")),1),d(t("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=s=>e(a).percentage=s),class:"input",required:""},null,512),[[r,e(a).percentage]])]),t("div",Ct,[t("label",null,o(l.trans("Credits")),1),d(t("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=s=>e(a).plan_data.credits=s),class:"input"},null,512),[[r,e(a).plan_data.credits]])]),t("div",Pt,[t("label",null,o(l.trans("Brands")),1),d(t("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=s=>e(a).plan_data.brands=s),class:"input"},null,512),[[r,e(a).plan_data.brands]])]),t("div",Bt,[t("label",null,o(l.trans("Social Accounts")),1),d(t("input",{type:"text","onUpdate:modelValue":n[4]||(n[4]=s=>e(a).plan_data.social_accounts=s),class:"input"},null,512),[[r,e(a).plan_data.social_accounts]])]),t("div",$t,[t("label",null,o(l.trans("Posts")),1),d(t("input",{type:"text","onUpdate:modelValue":n[5]||(n[5]=s=>e(a).plan_data.posts=s),class:"input"},null,512),[[r,e(a).plan_data.posts]])]),t("div",zt,[t("label",null,o(l.trans("Storage Size")),1),d(t("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=s=>e(a).plan_data.storage_size=s),class:"input"},null,512),[[r,e(a).plan_data.storage_size]])]),t("div",Dt,[t("label",null,o(l.trans("Analytics")),1),d(t("input",{type:"text","onUpdate:modelValue":n[7]||(n[7]=s=>e(a).plan_data.analytics=s),class:"input"},null,512),[[r,e(a).plan_data.analytics]])]),t("div",Lt,[t("label",null,o(l.trans("Stock Library")),1),d(t("input",{type:"text","onUpdate:modelValue":n[8]||(n[8]=s=>e(a).plan_data.stock_library=s),class:"input"},null,512),[[r,e(a).plan_data.stock_library]])]),t("div",Ot,[t("label",null,o(l.trans("Scheduling/Calender")),1),d(t("input",{type:"text","onUpdate:modelValue":n[9]||(n[9]=s=>e(a).plan_data.scheduling=s),class:"input"},null,512),[[r,e(a).plan_data.scheduling]])]),t("div",jt,[t("label",null,o(l.trans("Image Editor")),1),d(t("input",{type:"text","onUpdate:modelValue":n[10]||(n[10]=s=>e(a).plan_data.image_editor=s),class:"input"},null,512),[[r,e(a).plan_data.image_editor]])]),u(lt,{modelValue:e(a).banner,"onUpdate:modelValue":n[11]||(n[11]=s=>e(a).banner=s),label:l.trans("Banner")},null,8,["modelValue","label"])]),t("div",It,[t("div",Nt,[t("button",Tt,[t("span",null,o(l.trans("Close")),1)]),u(nt,{classes:"btn btn-primary flex-1",processing:e(a).processing,"btn-text":l.trans("Save Changes")},null,8,["processing","btn-text"])])])],32),qt])],64)}}});export{Qt as default};
