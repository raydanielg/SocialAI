import{s as z,T as N,m as P,c as n,a as r,b as e,t as o,w as A,F as p,r as _,d as c,v as u,u as l,f as y,k,e as g,g as $,o as d,n as V,q as D}from"./app-13978987.js";import{_ as M}from"./SpinnerBtn-cb152833.js";import{_ as m}from"./InputFieldError-52549d23.js";import{_ as B}from"./AdminLayout-bd13ff9d.js";import{_ as q}from"./PageHeader-8c638686.js";import"./dropdown-45d66330.js";const K={class:"container flex-grow p-4 sm:p-6"},L={class:"mx-auto lg:w-9/12"},O={class:"card-title mb-3"},X={class:"mt-2 grid grid-cols-2 gap-4 lg:grid-cols-5"},j=["onClick"],H={class:"mb-1"},W={class:"card card-body"},Y={class:"mb-2"},Q={class:"label mb-1"},R={class:"mb-2"},G={class:"label mb-1"},J={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},Z={class:"mb-2"},ee={class:"label mb-1"},se={class:"mb-2"},te={class:"label mb-1"},le={class:"flex gap-4"},ae={class:"flex-1"},oe={class:"label mb-1"},ie=e("option",{value:"",disabled:"",selected:""},"Select",-1),ne=["value"],de={class:"flex-1"},re={class:"label mb-1"},me={key:0,class:"flex-1"},ce={class:"label mb-1"},ue=e("option",{value:"",disabled:"",selected:""},"Select",-1),pe=["value"],_e={key:0,class:"card card-body grid grid-cols-2 gap-x-5 gap-y-4"},ge={class:"col-span-full mb-2"},be={class:"label mb-1"},ve={class:"mb-2"},he={class:"label mb-1"},ye={class:"flex"},fe={class:"label card w-20 rounded-md px-2 py-1 text-center"},xe=e("p",{class:"text-sm"},"* Width and Height should be same px",-1),ke={class:"mb-2"},Se={class:"label mb-1"},we={class:"flex"},Ve={class:"label card w-20 rounded-md px-2 py-1 text-center"},Ue=e("p",{class:"text-sm"},"* Width and Height should be same px",-1),Ie={class:"mb-2"},Ce={class:"label mb-1"},Te={class:"flex"},Ee={class:"label card w-20 rounded-md px-2 py-1 text-center"},Fe={class:"mb-2"},ze={class:"label mb-1"},Ne={class:"flex"},Pe={class:"label card w-20 rounded-md px-2 py-1 text-center"},Ae={class:"col-span-full flex gap-2"},$e={key:0,class:"flex-1"},De={class:"label mb-1"},Me=e("option",{value:"null",disabled:"",selected:""},"Select",-1),Be=["value"],qe={class:"flex-1"},Ke={class:"label mb-1"},Le=e("option",{value:"null",disabled:"",selected:""},"Select",-1),Oe=["value"],Xe={class:"flex-1"},je={class:"label mb-1"},He=e("option",{value:"null",disabled:"",selected:""},"Select",-1),We=["value"],Ye={key:2,class:"mb-2 flex-1"},Qe={class:"label mb-1"},Re={key:1,class:"card card-body grid grid-cols-3 gap-4"},Ge={class:"label mb-1"},Je=e("option",{value:"",disabled:"",selected:""},"Select",-1),Ze=["value"],es={class:"label mb-1"},ss={class:"label mb-1"},ts={key:2,class:"card card-body grid grid-cols-2 gap-4"},ls={key:0},as={class:"label mb-1"},os=e("option",{value:"null",disabled:"",selected:""},"Select",-1),is=["value"],ns={class:"label mb-1"},ds=e("small",null,"(Decoder iterations)",-1),rs=["href"],ms={key:3,class:"card card-body space-y-4"},cs={class:"label mb-1"},us={class:"label mb-1"},ps={class:"card card-body"},_s={class:"flex justify-between"},gs={class:"flex-1 space-y-1"},bs={class:"label mb-1"},vs=["onUpdate:modelValue"],hs=e("option",{value:"",disabled:"",selected:""},"Select",-1),ys=["value"],fs={class:"flex-1 space-y-1"},xs={class:"label mb-1"},ks=["onUpdate:modelValue"],Ss={class:"flex-1 space-y-1"},ws={class:"label mb-1"},Vs=["onUpdate:modelValue"],Us={class:"text-right"},Is=["onClick"],Cs={class:"card card-body"},Ts={class:"mb-2"},Es={class:"label mb-1"},Fs={class:"mb-3 flex flex-wrap items-center gap-1"},zs=["onClick"],Ns={class:"mb-2"},Ps=$({layout:B}),Ks=Object.assign(Ps,{__name:"Create",props:["buttons","segments","models","voices","image_models","image_ratios","image_sizes","instructions","STABLE_DIFFUSION_API_KEY_EXISTS"],setup(h){const x=h,{trim:S}=z(),w={type:"",name:"",placeholder:"",value:""},U=[{title:"text",icon:"bx-news",visible:!0},{title:"image",icon:"bx-image",visible:!0},{title:"video",icon:"bxs-videos",visible:x.STABLE_DIFFUSION_API_KEY_EXISTS},{title:"audio",icon:"bxs-microphone-alt",visible:x.STABLE_DIFFUSION_API_KEY_EXISTS},{title:"voice_clone",icon:"bx-user-voice",visible:x.STABLE_DIFFUSION_API_KEY_EXISTS}],I={text:"word",video:"seconds",voice_clone:"clone",image:"image",audio:"audio"},s=N({title:"",description:"",preview:"",icon:"",status:"",ai_model:"",fields:[{...w}],prompt:"",prompt_type:"text",credit_charge:0,meta:{model:"",max_token:0,max_word:null,image_height:null,image_width:null,guidance_scale:null,steps:null,seed:null,aspect_ratio:null,image_size:null,image_quality:null,negative_prompt:"",max_seconds:null,voice_id:null,decoder_iterations:null}}),C=()=>{s.fields.push({...w})},T=i=>{s.fields.splice(i,1)},E=()=>{s.post(route("admin.ai-templates.store"),{onSuccess:()=>{D.success("Template has been added successfully"),s.reset()}})},f=P(""),F=i=>{let a=f.value.selectionStart,t=s.prompt;s.prompt=t.slice(0,a)+i+t.slice(a);let b=a+i.length;setTimeout(()=>{f.value.setSelectionRange(b,b),f.value.focus()},100)};return(i,a)=>(d(),n("main",K,[r(q,{title:i.trans("Create Template"),buttons:h.buttons},null,8,["title","buttons"]),e("div",L,[e("h3",O,o(i.trans("Create New Template")),1),e("form",{onSubmit:A(E,["prevent"]),class:"space-y-7"},[e("div",X,[(d(),n(p,null,_(U,t=>(d(),n(p,{key:t.title},[t.visible?(d(),n("button",{key:0,type:"button",class:V(["card flex h-20 items-center justify-center gap-2 rounded-md text-sm capitalize hover:bg-secondary-950",{"border border-primary-600":l(s).prompt_type==t.title}]),onClick:b=>l(s).prompt_type=t.title},[e("i",{class:V(["bx text-2xl",t.icon])},null,2),e("span",H,o(l(S)(t.title)),1)],10,j)):g("",!0)],64))),64))]),e("div",W,[e("div",Y,[e("label",Q,o(i.trans("Title")),1),c(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>l(s).title=t),class:"input"},null,512),[[u,l(s).title]]),r(m,{message:l(s).errors.title},null,8,["message"])]),e("div",R,[e("label",G,o(i.trans("Description")),1),c(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=t=>l(s).description=t),class:"textarea"},null,512),[[u,l(s).description]]),r(m,{message:l(s).errors.description},null,8,["message"])]),e("div",J,[e("div",Z,[e("label",ee,o(i.trans("Icon")),1),e("input",{type:"file",accept:"image/*",onChange:a[2]||(a[2]=t=>l(s).icon=t.target.files[0]),class:"input"},null,32),r(m,{message:l(s).errors.icon},null,8,["message"])]),e("div",se,[e("label",te,o(i.trans("Preview")),1),e("input",{type:"file",accept:"image/*",onChange:a[3]||(a[3]=t=>l(s).preview=t.target.files[0]),class:"input"},null,32),r(m,{message:l(s).errors.preview},null,8,["message"])])]),e("div",le,[e("div",ae,[e("label",oe,o(i.trans("Status")),1),c(e("select",{class:"select capitalize","onUpdate:modelValue":a[4]||(a[4]=t=>l(s).status=t)},[ie,(d(),n(p,null,_(["active","draft"],t=>e("option",{value:t,key:t},o(t),9,ne)),64))],512),[[y,l(s).status]]),r(m,{message:l(s).errors.status},null,8,["message"])]),e("div",de,[e("label",re,[k(o(i.trans("Credit Charge"))+" ",1),e("small",null,"("+o(i.trans("per"))+" "+o(I[l(s).prompt_type])+")",1)]),c(e("input",{type:"number",step:"any","onUpdate:modelValue":a[5]||(a[5]=t=>l(s).credit_charge=t),class:"input"},null,512),[[u,l(s).credit_charge]]),r(m,{message:l(s).errors.credit_charge},null,8,["message"])]),l(s).prompt_type=="image"?(d(),n("div",me,[e("label",ce,o(i.trans("Ai Model"))+"*",1),c(e("select",{required:"",class:"select capitalize",onChange:a[6]||(a[6]=t=>l(s).reset("meta")),"onUpdate:modelValue":a[7]||(a[7]=t=>l(s).ai_model=t)},[ue,(d(!0),n(p,null,_(h.image_models,t=>(d(),n("option",{value:t,key:t},o(t),9,pe))),128))],544),[[y,l(s).ai_model]]),r(m,{message:l(s).errors.ai_model},null,8,["message"])])):g("",!0)])]),l(s).prompt_type=="image"?(d(),n("div",_e,[e("div",ge,[e("label",be,o(i.trans("Negative Prompt")),1),c(e("textarea",{"onUpdate:modelValue":a[8]||(a[8]=t=>l(s).meta.negative_prompt=t),ref_key:"bodyEl",ref:f,class:"textarea"},null,512),[[u,l(s).meta.negative_prompt]]),r(m,{message:l(s).errors["meta.negative_prompt"]},null,8,["message"])]),l(s).ai_model=="stablediffusion"?(d(),n(p,{key:0},[e("div",ve,[e("label",he,o(i.trans("Image Width")),1),e("div",ye,[c(e("input",{step:"8","onUpdate:modelValue":a[9]||(a[9]=t=>l(s).meta.image_width=t),class:"w-full cursor-pointer accent-primary-600",type:"range",min:"512",max:"1024"},null,512),[[u,l(s).meta.image_width]]),e("span",fe,o(l(s).meta.image_width||0)+" px ",1)]),xe,r(m,{message:l(s).errors["meta.image_width"]},null,8,["message"])]),e("div",ke,[e("label",Se,o(i.trans("Image Height")),1),e("div",we,[c(e("input",{step:"8","onUpdate:modelValue":a[10]||(a[10]=t=>l(s).meta.image_height=t),class:"w-full cursor-pointer accent-primary-600",type:"range",min:"512",max:"1024"},null,512),[[u,l(s).meta.image_height]]),e("span",Ve,o(l(s).meta.image_height||0)+" px ",1)]),Ue,r(m,{message:l(s).errors["meta.image_height"]},null,8,["message"])]),e("div",Ie,[e("label",Ce,o(i.trans("Guidance Scale")),1),e("div",Te,[c(e("input",{step:"2","onUpdate:modelValue":a[11]||(a[11]=t=>l(s).meta.guidance_scale=t),class:"w-full cursor-pointer accent-primary-600",type:"range",min:"0",max:"20"},null,512),[[u,l(s).meta.guidance_scale]]),e("span",Ee,o(l(s).meta.guidance_scale||0),1)]),r(m,{message:l(s).errors["meta.guidance_scale"]},null,8,["message"])]),e("div",Fe,[e("label",ze,o(i.trans("Steps")),1),e("div",Ne,[c(e("input",{step:"5","onUpdate:modelValue":a[12]||(a[12]=t=>l(s).meta.steps=t),class:"w-full cursor-pointer accent-primary-600",type:"range",min:"10",max:"512"},null,512),[[u,l(s).meta.steps]]),e("span",Pe,o(l(s).meta.steps||0)+" px ",1)]),r(m,{message:l(s).errors["meta.steps"]},null,8,["message"])])],64)):g("",!0),e("div",Ae,[l(s).ai_model=="stability_ai"?(d(),n("div",$e,[e("label",De,o(i.trans("Image Aspect Ratio"))+"*",1),c(e("select",{class:"select capitalize","onUpdate:modelValue":a[13]||(a[13]=t=>l(s).meta.aspect_ratio=t)},[Me,(d(!0),n(p,null,_(h.image_ratios,t=>(d(),n("option",{value:t,key:t},o(t),9,Be))),128))],512),[[y,l(s).meta.aspect_ratio]]),r(m,{message:l(s).errors["meta.aspect_ratio"]},null,8,["message"])])):g("",!0),l(s).ai_model=="dalle_3"?(d(),n(p,{key:1},[e("div",qe,[e("label",Ke,o(i.trans("Image Size"))+"*",1),c(e("select",{class:"select capitalize","onUpdate:modelValue":a[14]||(a[14]=t=>l(s).meta.image_size=t)},[Le,(d(!0),n(p,null,_(h.image_sizes,t=>(d(),n("option",{value:t,key:t},o(t),9,Oe))),128))],512),[[y,l(s).meta.image_size]]),r(m,{message:l(s).errors["meta.image_size"]},null,8,["message"])]),e("div",Xe,[e("label",je,o(i.trans("Image Quality"))+"*",1),c(e("select",{class:"select capitalize","onUpdate:modelValue":a[15]||(a[15]=t=>l(s).meta.image_quality=t)},[He,(d(),n(p,null,_(["standard","hd"],t=>e("option",{value:t,key:t},o(t),9,We)),64))],512),[[y,l(s).meta.image_quality]]),r(m,{message:l(s).errors["meta.image_quality"]},null,8,["message"])])],64)):g("",!0),l(s).ai_model=="stablediffusion"||l(s).ai_model=="stability_ai"?(d(),n("div",Ye,[e("label",Qe,o(i.trans("Seed")),1),c(e("input",{type:"number","onUpdate:modelValue":a[16]||(a[16]=t=>l(s).meta.seed=t),class:"input"},null,512),[[u,l(s).meta.seed]]),r(m,{message:l(s).errors["meta.seed"]},null,8,["message"])])):g("",!0)])])):g("",!0),l(s).prompt_type=="text"?(d(),n("div",Re,[e("div",null,[e("label",Ge,o(i.trans("Ai Model"))+"*",1),c(e("select",{class:"select capitalize","onUpdate:modelValue":a[17]||(a[17]=t=>l(s).meta.model=t)},[Je,(d(!0),n(p,null,_(h.models,t=>(d(),n("option",{value:t,key:t},o(t),9,Ze))),128))],512),[[y,l(s).meta.model]]),r(m,{message:l(s).errors["meta.model"]},null,8,["message"])]),e("div",null,[e("label",es,o(i.trans("Max Token")),1),c(e("input",{type:"number","onUpdate:modelValue":a[18]||(a[18]=t=>l(s).meta.max_token=t),class:"input"},null,512),[[u,l(s).meta.max_token]]),r(m,{message:l(s).errors.max_token},null,8,["message"])]),e("div",null,[e("label",ss,o(i.trans("Max Word")),1),c(e("input",{type:"number","onUpdate:modelValue":a[19]||(a[19]=t=>l(s).meta.max_word=t),class:"input"},null,512),[[u,l(s).meta.max_word]]),r(m,{message:l(s).errors["meta.max_word"]},null,8,["message"])])])):g("",!0),l(s).prompt_type=="voice_clone"||l(s).prompt_type=="audio"?(d(),n("div",ts,[l(s).prompt_type=="voice_clone"?(d(),n("div",ls,[e("label",as,o(i.trans("Voices"))+"*",1),c(e("select",{class:"select capitalize","onUpdate:modelValue":a[20]||(a[20]=t=>l(s).meta.voice_id=t),required:""},[os,(d(!0),n(p,null,_(h.voices,t=>(d(),n("option",{value:t,key:t},o(l(S)(t)),9,is))),128))],512),[[y,l(s).meta.voice_id]]),r(m,{message:l(s).errors["meta.voice_id"]},null,8,["message"])])):g("",!0),e("div",null,[e("label",ns,[k(o(i.trans("Quality"))+"* ",1),ds]),c(e("input",{type:"number",required:"","onUpdate:modelValue":a[21]||(a[21]=t=>l(s).meta.decoder_iterations=t),class:"input"},null,512),[[u,l(s).meta.decoder_iterations]]),r(m,{message:l(s).errors["meta.decoder_iterations"]},null,8,["message"]),e("small",null,[e("a",{href:i.sanitizeHtml(h.instructions[l(s).prompt_type]),target:"_blank"}," * "+o(i.trans("instructions")),9,rs)])])])):g("",!0),l(s).prompt_type=="video"?(d(),n("div",ms,[e("div",null,[e("label",cs,[k(o(i.trans("Video length"))+" ",1),e("small",null,"("+o(i.trans("Max Seconds"))+")",1)]),c(e("input",{type:"number","onUpdate:modelValue":a[22]||(a[22]=t=>l(s).meta.max_seconds=t),class:"input"},null,512),[[u,l(s).meta.max_seconds]]),r(m,{message:l(s).errors["meta.max_seconds"]},null,8,["message"])]),e("div",null,[e("label",us,o(i.trans("Negative Prompt")),1),c(e("textarea",{"onUpdate:modelValue":a[23]||(a[23]=t=>l(s).meta.negative_prompt=t),ref_key:"bodyEl",ref:f,class:"textarea"},null,512),[[u,l(s).meta.negative_prompt]]),r(m,{message:l(s).errors["meta.negative_prompt"]},null,8,["message"])])])):g("",!0),e("div",ps,[e("div",_s,[e("h5",null,o(i.trans("Input Fields")),1),e("button",{type:"button",class:"btn btn-primary",onClick:C},"+")]),(d(!0),n(p,null,_(l(s).fields,(t,b)=>(d(),n("div",{key:b,class:"flex flex-col justify-between gap-3 lg:flex-row lg:items-center"},[e("div",gs,[e("label",bs,o(i.trans("Field Type")),1),c(e("select",{class:"select","onUpdate:modelValue":v=>t.type=v},[hs,(d(),n(p,null,_(["input","textarea"],v=>e("option",{value:v,key:v},o(v),9,ys)),64))],8,vs),[[y,t.type]]),r(m,{message:l(s).errors["fields."+b+".type"]},null,8,["message"])]),e("div",fs,[e("label",xs,o(i.trans("Field Name")),1),c(e("input",{type:"text","onUpdate:modelValue":v=>t.name=v,class:"input"},null,8,ks),[[u,t.name]]),r(m,{message:l(s).errors["fields."+b+".name"]},null,8,["message"])]),e("div",Ss,[e("label",ws,o(i.trans("Field Placeholder")),1),c(e("input",{type:"text","onUpdate:modelValue":v=>t.placeholder=v,class:"input"},null,8,Vs),[[u,t.placeholder]]),r(m,{message:l(s).errors["fields."+b+".placeholder"]},null,8,["message"])]),e("div",Us,[e("button",{type:"button",class:"btn btn-danger mt-5",onClick:v=>T(b)}," X ",8,Is)])]))),128))]),e("div",Cs,[e("div",Ts,[e("label",Es,o(i.trans("Custom Prompt")),1),c(e("textarea",{"onUpdate:modelValue":a[24]||(a[24]=t=>l(s).prompt=t),ref_key:"bodyEl",ref:f,class:"textarea"},null,512),[[u,l(s).prompt]]),r(m,{message:l(s).errors.prompt},null,8,["message"])]),e("ul",Fs,[(d(!0),n(p,null,_(l(s).fields.filter(t=>t.name.length).map(t=>`[${t.name}]`),t=>(d(),n("li",{onClick:b=>F(t),key:t,class:"rounded border p-1"},o(t),9,zs))),128))]),e("div",Ns,[r(M,{processing:l(s).processing,"btn-text":i.trans("Create")},null,8,["processing","btn-text"])])])],32)])]))}});export{Ks as default};
