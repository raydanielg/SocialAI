import{l as $,s as U,T as y,h as j,c as d,b as e,a as u,t as n,F as _,r as b,i as A,w as q,d as m,v as h,u as o,f as w,o as i,q as k,O as E}from"./app-13978987.js";import{_ as N}from"./AdminLayout-bd13ff9d.js";import{_ as x}from"./SpinnerBtn-cb152833.js";import{_ as B}from"./PageHeader-8c638686.js";import{_ as L}from"./Paginate-f61b79b2.js";import{d as v}from"./drawer-fe4c5e1a.js";import{_ as M}from"./NoDataFound-bc81d7fa.js";import"./dropdown-45d66330.js";const I={class:"container flex-grow p-4 sm:p-6"},O={class:"space-y-6"},Q={class:"table-responsive whitespace-nowrap rounded-primary"},T={class:"table"},z={class:"text-right"},R={class:"text-right"},G={class:"flex justify-end"},H={key:0},J={class:"text-left"},K={class:"text-left"},P={class:"text-left"},W={class:"text-right"},X={class:"flex justify-end"},Y={class:"dropdown","data-placement":"bottom-start"},Z={class:"dropdown-toggle"},ee={class:"dropdown-content w-40"},se={class:"dropdown-list"},te={class:"dropdown-list-item"},ne=["onClick"],ae={class:"dropdown-list-item"},oe=["onClick"],le={class:"card-footer py-4"},ie={id:"addNewFaqDrawer",class:"drawer drawer-right"},de={class:"drawer-header"},re={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ue={class:"drawer-body"},ce={class:"mb-2"},me={class:"mb-2"},pe={class:"mb-2"},_e=["value"],ge={class:"mb-2"},be=["value"],he={class:"drawer-footer"},we={class:"flex justify-end gap-2"},ve={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},fe={id:"editFaqDrawer",class:"drawer drawer-right"},ye={class:"drawer-header"},qe={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ke={class:"drawer-body"},xe={class:"mb-2"},Fe={class:"mb-2"},Ce={class:"mb-2"},Se=["value","selected"],Ve={class:"mb-2"},De=["value"],$e={class:"drawer-footer"},Ue={class:"flex justify-end gap-2"},je={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Ae={layout:N},Te=Object.assign(Ae,{__name:"Index",props:["buttons","faqs","languages","categories"],setup(c){$(()=>{v.init()});const{textExcerpt:f,deleteRow:F}=U(),r=y({question:null,answer:null,categories:null,language:null}),l=y({question:null,answer:null,categories:null,language:null,id:null});function C(t){var a;l.question=t.title,l.answer=t.excerpt.value,l.categories=((a=t.faq_categories[0])==null?void 0:a.id)||null,l.language=t.lang,l.id=t.id,v.of("#editFaqDrawer").show()}const S=()=>{r.post(route("admin.faq.store"),{onSuccess:()=>{r.reset(),k.success(trans("Faq has been added successfully")),v.of("#addNewFaqDrawer").hide()}})},V=()=>{E.patch(route("admin.faq.update",l.id),l,{onSuccess:()=>{l.value={},k.success(trans("Faq has been updated successfully")),v.of("#editFaqDrawer").hide()}})};return(t,a)=>{const g=j("Icon");return i(),d(_,null,[e("main",I,[u(B,{title:t.trans("Frequently asked questions"),buttons:c.buttons},null,8,["title","buttons"]),e("div",O,[e("div",Q,[e("table",T,[e("thead",null,[e("tr",null,[e("th",null,n(t.trans("Question")),1),e("th",null,n(t.trans("Answer")),1),e("th",z,n(t.trans("Category")),1),e("th",R,n(t.trans("Language")),1),e("th",G,n(t.trans("Action")),1)])]),c.faqs.total?(i(),d("tbody",H,[(i(!0),d(_,null,b(c.faqs.data,s=>{var p;return i(),d("tr",{key:s.id},[e("td",J,n(o(f)(s.title,20)),1),e("td",K,n(o(f)(s.excerpt.value,70)),1),e("td",P,n(o(f)(((p=s.faq_categories[0])==null?void 0:p.title)||"",70)),1),e("td",W,n(s.lang),1),e("td",X,[e("div",Y,[e("div",Z,[u(g,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),e("div",ee,[e("ul",se,[e("li",te,[e("button",{type:"button",onClick:D=>C(s),class:"dropdown-link"},[u(g,{icon:"fe:edit"}),e("span",null,n(t.trans("Edit")),1)],8,ne)]),e("li",ae,[e("button",{class:"dropdown-link",onClick:D=>o(F)("/admin/faq/"+s.id)},[u(g,{icon:"fe:trash"}),e("span",null,n(t.trans("Delete")),1)],8,oe)])])])])])])}),128))])):(i(),A(M,{key:1,"for-table":"true"}))])]),e("div",le,[u(L,{links:c.faqs.links},null,8,["links"])])])]),e("div",ie,[e("form",{onSubmit:a[4]||(a[4]=q(s=>S(),["prevent"]))},[e("div",de,[e("h5",null,n(t.trans("Add New Faq")),1),e("button",re,[u(g,{class:"text-xl",icon:"mdi:close"})])]),e("div",ue,[e("div",ce,[e("label",null,n(t.trans("Question")),1),m(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>o(r).question=s),maxlength:"150",class:"input",required:""},null,512),[[h,o(r).question]])]),e("div",me,[e("label",null,n(t.trans("Answer")),1),m(e("textarea",{class:"textarea h-100",maxlength:"500","onUpdate:modelValue":a[1]||(a[1]=s=>o(r).answer=s),required:""},null,512),[[h,o(r).answer]])]),e("div",pe,[e("label",null,n(t.trans("Select Category")),1),m(e("select",{class:"select",name:"category","onUpdate:modelValue":a[2]||(a[2]=s=>o(r).categories=s),required:""},[(i(!0),d(_,null,b(c.categories,s=>(i(),d("option",{key:s.id,value:s.id},n(s.title),9,_e))),128))],512),[[w,o(r).categories]])]),e("div",ge,[e("label",null,n(t.trans("Select Language")),1),m(e("select",{class:"select",name:"language",required:"","onUpdate:modelValue":a[3]||(a[3]=s=>o(r).language=s)},[(i(!0),d(_,null,b(c.languages,(s,p)=>(i(),d("option",{key:s.key,value:p},n(s),9,be))),128))],512),[[w,o(r).language]])])]),e("div",he,[e("div",we,[e("button",ve,[e("span",null,n(t.trans("Close")),1)]),u(x,{classes:"btn btn-primary",processing:o(r).processing,"btn-text":t.trans("Create")},null,8,["processing","btn-text"])])])],32)]),e("div",fe,[e("form",{onSubmit:a[9]||(a[9]=q(s=>V(),["prevent"]))},[e("div",ye,[e("h5",null,n(t.trans("Edit Faq")),1),e("button",qe,[u(g,{class:"text-xl",icon:"mdi:close"})])]),e("div",ke,[e("div",xe,[e("label",null,n(t.trans("Question")),1),m(e("input",{type:"text",name:"question","onUpdate:modelValue":a[5]||(a[5]=s=>o(l).question=s),maxlength:"150",class:"input",id:"question",required:""},null,512),[[h,o(l).question]])]),e("div",Fe,[e("label",null,n(t.trans("Answer")),1),m(e("textarea",{class:"textarea h-100","onUpdate:modelValue":a[6]||(a[6]=s=>o(l).answer=s),maxlength:"500",name:"answer",required:"",id:"answer"},null,512),[[h,o(l).answer]])]),e("div",Ce,[e("label",null,n(t.trans("Select Categories")),1),m(e("select",{class:"select",name:"position","onUpdate:modelValue":a[7]||(a[7]=s=>o(l).categories=s),id:"position",required:""},[(i(!0),d(_,null,b(c.categories,s=>(i(),d("option",{key:s.id,value:s.id,selected:s.id==o(l).categories},n(s.title),9,Se))),128))],512),[[w,o(l).categories]])]),e("div",Ve,[e("label",null,n(t.trans("Select Language")),1),m(e("select",{class:"select",name:"language",required:"","onUpdate:modelValue":a[8]||(a[8]=s=>o(l).language=s)},[(i(!0),d(_,null,b(c.languages,(s,p)=>(i(),d("option",{key:s.key,value:p},n(s),9,De))),128))],512),[[w,o(l).language]])])]),e("div",$e,[e("div",Ue,[e("button",je,[e("span",null,n(t.trans("Close")),1)]),u(x,{classes:"btn btn-primary",processing:o(l).processing,"btn-text":t.trans("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{Te as default};
